# 串行、并发和并行，同步和异步

## 目录

- [串行、并发和并行](#串行、并发和并行)
- [同步和异步](#同步和异步)

## 串行、并发和并行



### 串行

串行（Sequential）指多个任务按顺序一个一个执行，一个任务完成才能接着执行下一个任务。



### 并发

并发（Concurrency）指在同一**时间段**多任务同时在一个 CPU 执行，但对 CPU 而言，任务还是按时间片轮流（交替）执行的。



### 并行

并行（Parallellism）指在同一**时间点**多任务同时在多个 CPU 进行。并行是并发的子集，并发不一定是并行，并行一定是并发。并行是一种理想的并发。

*Erlang*  之父  *Joe Armstrong* 用如下一张图解释并发与并行的区别：

![](https://upload-images.jianshu.io/upload_images/3297676-f62424a6b8223605.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

在一个时间段内，两个队伍都是在接咖啡喝，但是只有一台咖啡机，所以队伍中的人是交替使用一台咖啡机，这种情况是并发；有了两台咖啡机，两列队伍中的人就可以在同一时间点都接上咖啡，这种情况是并行。

这里队伍可以理解为线程，队伍中的人是线程中跑着的任务的步骤，咖啡机是 CPU 。

所以可以理解为，多个线程被一个 CPU 轮流切换着执行其中的步骤这种是并发，如果这些线程能同时被多个 CPU  执行，就可以是并行。

多线程编程的实质就是将任务的处理方式由串行改为并发（或并行），即实现*并发化*。



## 同步和异步

同步和异步关注的是消息通信机制。

### 同步

同步（Synchronous）就是调用者发送一个请求，需要等待对方返回结果，然后调用者才能够继续执行后面的事。就是说，同步是顺序执行的，有个调用者主动等待调用结果的过程。

举个例子，Tony 老师烧开水喝，他就在烧水壶旁边等着水烧好，然后倒水喝，这就是同步调用。

### 异步

异步（Asynchronous）指调用者发送一个请求，不需要等待对方返回结果，调用者就可以执行其他事。异步是彼此独立执行的，不需要调用者等待调用结果就可以做其他事。

还是 Tony 老师烧水喝，在烧水的这段时间里，他可以去给客人做头发，水烧好了烧水壶会发出嘀嘀的声音通知他水烧开了，这就是异步调用。