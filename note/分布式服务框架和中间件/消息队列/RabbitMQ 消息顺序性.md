## RabbitMQ 消息顺序性

消息顺序性指消费者消费到的消息和发送者发布的消息的顺序是一致的。



### 什么情况下消息乱序？

- 使用事务机制或发送方确认机制，需要补偿发送时消息就错序了。
- 如果生产者发送的消息设置了不同的超时时间，并设置了「 死信队列 」，即相当于一个延迟队列，那么消费者在消费这个延迟队列时，消息的顺序必然跟生产者发送消息的顺序不一致。
- 消息设置了优先级。
- 一个队列多个消费者轮询消费，如有被拒绝的消息，消费的顺序不保证。
- 。。。



### 如何保证消息顺序性？

- 在消息体内添加全局有序标识来实现。
- 一个队列一个消费者。
- 。。。