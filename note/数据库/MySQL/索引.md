## 索引

### 索引原理

为什么索引效率高

为什么使用 B+ 树



[干货 MySQL常见的面试题 + 索引原理分析](https://www.cnblogs.com/blogtech/p/10530794.html)

### 基于主键索引和普通索引的查询有什么区别？

主键索引的叶子节点存的是整行数据。在 InnoDB 里，主键索引也被称为聚簇索引（clustered index）。

非主键索引的叶子节点内容是主键的值。在 InnoDB 里，非主键索引也被称为二级索引（secondary index）。

使用主键索引只需要搜索 id 这棵 B+ 树，使用普通的索引需要先搜索这颗索引的 B+ 树，得到 id 值，然后在去 id 索引树搜索一次。这个过程称为回表。

也就是说，基于非主键索引的查询需要多扫描一棵索引树。因此，我们在应用中应该尽量使用主键查询。



https://time.geekbang.org/column/article/69236



### 最左前缀原则



### 普通索引和唯一索引如何选择

change buffer 

唯一索引不能使用 change buffer，普通索引可以使用。

- 对于写多读少的业务来说，change buffer 使用效果最好。这种业务模型常见的是账单类、日志类的系统。

- 对于写完之后立马就需要读的场景来说，change buffer 反而起了副作用。



其实，这两类索引在查询能力上是没差别的，主要考虑的是对更新性能的影响。所以，建议尽量选择普通索引。